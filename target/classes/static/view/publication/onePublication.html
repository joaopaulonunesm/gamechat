<div class="card">
  
  <div class="card-header">
    <div class="panel-heading">
      <h5>Publicação</h5>
    </div>
  </div> 

  <div class="card">
      <div class="card-header">
        <div class="panel-heading">
          <img class="avatar rounded pull-left" ng-src="{{ publication.user.profilePicture }}" alt="PhotoProfile" />
          <h5><a ng-href="#/{{ publication.user.nickName }}">{{publication.user.nickName}}</a></h5>
          <h6 style="font-size:12px;"> {{ publication.createDate | moment }} </h6>
          <h6 style="font-size:12px;"><a>{{publication.game.name | playing}}</a></h6>
        </div>
    </div>

    <div class="card-block" style="line-height:1">
      <p style="font-size:12px;"> {{ publication.text }} </p>
    </div>

    <a href="#/" ng-bind-html="htmlSafe(publication.picture)" style="text-align: center"></a>
        
    <br>
    
    <div class="card-footer">
      <div class="col-md-12" style="margin:12px; text-align:right; margin-left:-10px;">

        <a class="pull-left" style="margin-right:10px;" href="" ng-controller="toLikeCtrl" ng-click="toLike(publication.id)">
          <i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
          Curtir 
        </a>

        <a class="pull-left" style="margin-right:10px;" href="" ng-controller="toSharingCtrl" ng-click="toSharing(publication.id)">
          <i class="fa fa-share" aria-hidden="true"></i> 
          Compartilhar 
        </a>

        <a style="margin-right:10px;" href="" ng-controller="toLikeCtrl" ng-click="open(publication.id)">
          {{ publication.amountLikes }} Curtidas 
        </a>

        <a style="margin-right:10px;" href="" ng-controller="toSharingCtrl" ng-click="open(publication.id)">
          {{ publication.amountShares }} Compartilhamentos 
        </a>

        <a style="margin-right:10px;" href="" ng-controller="viewPublicationCtrl" ng-click="open(publication.id)">
          {{ publication.amountViews }} Visualizações 
        </a>

        <div ng-include="'view/modal/modalLikes.html'"></div>
        <div ng-include="'view/modal/modalSharings.html'"></div>
        <div ng-include="'view/modal/modalViewPublication.html'"></div>

      </div> 

      <div class="col-md-12" style="margin:12px; margin-left:-10px; margin-top: 10px" ng-controller="commentCtrl">
            
        <form class="media" name="formOnePublication">
          <div class="pull-left">
            <img class="media-object rounded" ng-controller="userCtrl" ng-src="{{ user.profilePicture }}" width="30px" height="30px" style="margin-left:3px; margin-right:10px;">
          </div>
          <div class="media-body">
            <textarea id="textComment" class="form-control" style="border-radius:0px;" rows="1" ng-model="comment.text" required placeholder="Comentar"></textarea>
          </div>
          <button class="btn btn-gc pull-right" ng-disabled="formOnePublication.$invalid" ng-click="toComment(publication.id)">
            <i class="fa fa-commenting-o" aria-hidden="true"></i> Comentar
          </button>
        </form>

        <br>
      
        <div class="card bottom" ng-if="comments.length > 0">

          <div class="list-group">
            <li ng-repeat="comment in comments" class="list-group-item">
              <img class="media-object rounded" ng-controller="userCtrl" ng-src="{{ comment.user.profilePicture }}" width="30px" height="30px" style="margin-left:3px; margin-right:10px;">
  
              <div class="col-md-9" style="text-align: left">
                <p>
                  <a ng-href="#/{{ comment.user.nickName }}"><strong> {{ comment.user.nickName }} </strong></a> {{ comment.text }}
                </p>
              </div>

              <div class="col-md-2">
                {{ comment.commentMoment | moment }}
              </div>      
            </li>
          </div>
        </div>

      </div> 
    </div>

  </div>
</div>


